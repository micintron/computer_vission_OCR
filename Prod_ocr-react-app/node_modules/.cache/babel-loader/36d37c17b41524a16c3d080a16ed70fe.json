{"ast":null,"code":"var _jsxFileName = \"/Users/micintro/Desktop/CI Challenge/CI_Challenge2_Image2Text_NLP/Final Product/Prod_ocr-react-app/src/pages/license-ocr/LicenseOcr.js\";\nimport React from 'react';\nimport './LicenseOcr.scss';\nimport UploadService from '../../services/Upload';\nimport FileInput from '../../views/file-input/FileInput';\nimport LoadingOverlay from '../../views/loading-overlay/LoadingOverlay';\nimport { fireEvent } from '@testing-library/react';\n\nclass LicenseOcr extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadService: new UploadService()\n    };\n    this.fileChanged = this.fileChanged.bind(this);\n    this.resetPage = this.resetPage.bind(this);\n  }\n\n  resetPage() {\n    this.setState({\n      ocr: null\n    });\n  }\n\n  async fileChanged(file) {\n    this.setState({\n      loading: true\n    });\n    let ocr = {\n      url: URL.createObjectURL(file),\n      file: file,\n      license: await this.state.uploadService.licenseAnalysis(file)\n    };\n    this.setState({\n      ocr: ocr,\n      loading: false\n    });\n  }\n  /*\n  parseLicenseResponse(response) {\n      console.log(response);\n       let name = null;\n      let address = null;\n      let state = null;\n      let licenseClass = null;\n      let sex = null;\n      let height = null;\n      let eyes = null;\n      let dob = null;\n      let exp = null;\n       try { name = response[11].replaceAll(\"2\", \"\").trim() } catch(e){}\n      try { address = response[12].replaceAll(\"8\", \"\").trim() + \", \" + response[13] } catch(e){}\n      try { state = response[1] } catch(e){}\n      try { licenseClass = response[18].split(\":\")[1].trim() } catch(e){}\n      try { sex = response[16].split(\":\")[1].trim() } catch(e){}\n      try { height = response[17].split(\":\")[1].trim() } catch(e){}\n      try { eyes = response[15].split(\":\")[1].trim() } catch(e){}\n      try { dob = response[7].split(\":\")[1].trim() } catch(e){}\n      try { exp = response[8].split(\":\")[1].trim() } catch(e){}\n       return {\n          name: name,\n          address: address,\n          state: state,\n          class: licenseClass,\n          sex: sex,\n          height: height,\n          eyes: eyes,\n          dob: dob,\n          exp: exp\n      }\n  }\n  */\n\n\n  generateLicenseHtml(license) {\n    let fields = [];\n\n    if (license) {\n      for (let i in license) {\n        let item = license[i];\n\n        if (!Array.isArray(item)) {\n          fields.push( /*#__PURE__*/React.createElement(\"div\", {\n            className: \"field-container\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"name\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }\n          }, i), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"value\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }\n          }, item)));\n        }\n      }\n    }\n\n    return fields;\n  }\n\n  generateLicenseAdditionalHtml(license) {\n    let fields = [];\n\n    if (license) {\n      for (let i in license) {\n        let item = license[i];\n\n        if (Array.isArray(item)) {\n          for (let j = 0; j < item.length; j++) {\n            let subItem = item[j];\n            fields.push( /*#__PURE__*/React.createElement(\"div\", {\n              className: \"field-container\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 29\n              }\n            }, /*#__PURE__*/React.createElement(\"div\", {\n              className: \"value\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }\n            }, subItem)));\n          }\n        }\n      }\n    }\n\n    return fields;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"license-ocr-page-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: ['license-file-input-container', this.state.ocr ? 'hide' : ''].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FileInput, {\n      fileChangedCallback: this.fileChanged,\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, \"Click or Drag to Upload \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 112\n      }\n    }), \" a Drivers License\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: ['license-loading-overlay-container', !this.state.loading ? 'hide' : ''].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(LoadingOverlay, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: ['file-output-state-container', !this.state.ocr ? 'hide' : ''].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.resetPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, \"Upload New File\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"file-output-state-content-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ocr-image-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ocr-image-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"ocr-image\",\n      src: this.state.ocr ? this.state.ocr.url : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ocr-license-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 29\n      }\n    }, this.generateLicenseHtml(this.state.ocr ? this.state.ocr.license : null))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ocr-additional-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 29\n      }\n    }, \"Additional Fields\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ocr-additional-content-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 29\n      }\n    }, this.generateLicenseAdditionalHtml(this.state.ocr ? this.state.ocr.license : null))))));\n  }\n\n}\n\nexport default LicenseOcr;","map":{"version":3,"sources":["/Users/micintro/Desktop/CI Challenge/CI_Challenge2_Image2Text_NLP/Final Product/Prod_ocr-react-app/src/pages/license-ocr/LicenseOcr.js"],"names":["React","UploadService","FileInput","LoadingOverlay","fireEvent","LicenseOcr","Component","constructor","props","state","uploadService","fileChanged","bind","resetPage","setState","ocr","file","loading","url","URL","createObjectURL","license","licenseAnalysis","generateLicenseHtml","fields","i","item","Array","isArray","push","generateLicenseAdditionalHtml","j","length","subItem","render","join"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './LicenseOcr.scss';\nimport UploadService from '../../services/Upload';\nimport FileInput from '../../views/file-input/FileInput';\nimport LoadingOverlay from '../../views/loading-overlay/LoadingOverlay';\nimport { fireEvent } from '@testing-library/react';\n\nclass LicenseOcr extends React.Component {\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            uploadService: new UploadService()\n        }\n\n        this.fileChanged = this.fileChanged.bind(this);\n        this.resetPage = this.resetPage.bind(this);\n    }\n\n    resetPage() {\n\n        this.setState({\n            ocr: null\n        })\n    }\n\n    async fileChanged(file) {\n        \n        this.setState({\n            loading: true\n        })\n\n        let ocr = {url: URL.createObjectURL(file), file: file, license: await this.state.uploadService.licenseAnalysis(file)};\n\n        this.setState({\n            ocr: ocr,\n            loading: false\n        })\n    }\n    /*\n    parseLicenseResponse(response) {\n        console.log(response);\n\n        let name = null;\n        let address = null;\n        let state = null;\n        let licenseClass = null;\n        let sex = null;\n        let height = null;\n        let eyes = null;\n        let dob = null;\n        let exp = null;\n\n        try { name = response[11].replaceAll(\"2\", \"\").trim() } catch(e){}\n        try { address = response[12].replaceAll(\"8\", \"\").trim() + \", \" + response[13] } catch(e){}\n        try { state = response[1] } catch(e){}\n        try { licenseClass = response[18].split(\":\")[1].trim() } catch(e){}\n        try { sex = response[16].split(\":\")[1].trim() } catch(e){}\n        try { height = response[17].split(\":\")[1].trim() } catch(e){}\n        try { eyes = response[15].split(\":\")[1].trim() } catch(e){}\n        try { dob = response[7].split(\":\")[1].trim() } catch(e){}\n        try { exp = response[8].split(\":\")[1].trim() } catch(e){}\n\n        return {\n            name: name,\n            address: address,\n            state: state,\n            class: licenseClass,\n            sex: sex,\n            height: height,\n            eyes: eyes,\n            dob: dob,\n            exp: exp\n        }\n    }\n    */\n\n    generateLicenseHtml(license) {\n\n        let fields = [];\n\n        if(license) {\n\n            for(let i in license) {\n\n                let item = license[i];\n\n                if(!Array.isArray(item)) {\n\n                    fields.push(\n                        <div className=\"field-container\">\n                            <div className=\"name\">{i}</div>\n                            <div className=\"value\">{item}</div>\n                        </div> \n                    )\n                }\n            }\n        }\n\n        return fields;\n    }\n\n    generateLicenseAdditionalHtml(license) {\n\n        let fields = [];\n\n        if(license) {\n\n            for(let i in license) {\n\n                let item = license[i];\n\n                if(Array.isArray(item)) {\n\n                    for(let j = 0; j < item.length; j++) {\n\n                        let subItem = item[j];\n\n                        fields.push(\n                            <div className=\"field-container\">\n                                <div className=\"value\">{subItem}</div>\n                            </div> \n                        )\n                    }\n                }\n            }\n        }\n\n        return fields;\n    }\n\n    render() { \n        \n        return (\n\n            <div className=\"license-ocr-page-container\">\n\n                <div className={['license-file-input-container', this.state.ocr ? 'hide' : ''].join(' ')}>\n\n                    <FileInput fileChangedCallback={this.fileChanged} accept=\"image/*\">Click or Drag to Upload <br /> a Drivers License</FileInput> \n                    \n                    <div className={['license-loading-overlay-container', !this.state.loading ? 'hide' : ''].join(' ')}>\n                        <LoadingOverlay />\n                    </div>\n                </div>\n\n                <div className={['file-output-state-container', !this.state.ocr ? 'hide' : ''].join(' ')}>\n\n                    <button onClick={this.resetPage}>Upload New File</button>\n\n                    <div className=\"file-output-state-content-container\">\n\n                        <div className=\"ocr-image-container\">\n\n                            <div className=\"ocr-image-wrapper\">\n                                <img className=\"ocr-image\" src={this.state.ocr ? this.state.ocr.url : ''} />\n                            </div>\n\n                            <div className=\"ocr-license-container\">\n                                {this.generateLicenseHtml(this.state.ocr ? this.state.ocr.license : null)}\n                            </div>\n                        </div>\n                        \n                        <div className=\"ocr-additional-container\">\n                            <div className=\"label\">Additional Fields</div>\n                            <div className=\"ocr-additional-content-container\">\n                                {this.generateLicenseAdditionalHtml(this.state.ocr ? this.state.ocr.license : null)}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default LicenseOcr;"]},"metadata":{},"sourceType":"module"}