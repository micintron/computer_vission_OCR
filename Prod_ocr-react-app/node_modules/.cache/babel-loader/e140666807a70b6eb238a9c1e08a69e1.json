{"ast":null,"code":"var _jsxFileName = \"/Users/micintro/Desktop/CI Challenge/CI_Challenge2_Image2Text_NLP/Final Product/Prod_ocr-react-app/src/pages/passport-ocr/PassportOcr.js\";\nimport React from 'react';\nimport './PassportOcr.scss';\nimport UploadService from '../../services/Upload';\nimport FileInput from '../../views/file-input/FileInput';\nimport LoadingOverlay from '../../views/loading-overlay/LoadingOverlay';\n\nclass PassportOcr extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadService: new UploadService()\n    };\n    this.fileChanged = this.fileChanged.bind(this);\n    this.resetPage = this.resetPage.bind(this);\n  }\n\n  resetPage() {\n    this.setState({\n      ocr: null\n    });\n  }\n\n  async fileChanged(file) {\n    this.setState({\n      loading: true\n    });\n    let ocr = {\n      url: URL.createObjectURL(file),\n      file: file,\n      passport: await this.state.uploadService.passportAnalysis(file)\n    };\n    this.setState({\n      ocr: ocr,\n      loading: false\n    });\n  }\n\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"passport-ocr-page-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: ['passport-file-input-container', this.state.ocr ? 'hide' : ''].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FileInput, {\n      fileChangedCallback: this.fileChanged,\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, \"Click or Drag to Upload \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 112\n      }\n    }), \" a Passport Image\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: ['passport-loading-overlay-container', !this.state.loading ? 'hide' : ''].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(LoadingOverlay, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: ['file-output-state-container', !this.state.ocr ? 'hide' : ''].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.resetPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, \"Upload New File\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"file-output-state-content-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ocr-image-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ocr-image-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"ocr-image\",\n      src: this.state.ocr ? this.state.ocr.url : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ocr-passport-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 37\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 37\n      }\n    }, this.state.ocr ? this.state.ocr.passport.last_name : '')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 37\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 37\n      }\n    }, this.state.ocr ? this.state.ocr.passport.first_name : '')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 37\n      }\n    }, \"Country\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 37\n      }\n    }, this.state.ocr ? this.state.ocr.passport.country : '')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 37\n      }\n    }, \"Country Code\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, this.state.ocr ? this.state.ocr.passport.country_code : '')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 37\n      }\n    }, \"Nationality\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }\n    }, this.state.ocr ? this.state.ocr.passport.nationality : '')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 37\n      }\n    }, \"Sex\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 37\n      }\n    }, this.state.ocr ? this.state.ocr.passport.sex : '')))))));\n  }\n\n}\n\nexport default PassportOcr;","map":{"version":3,"sources":["/Users/micintro/Desktop/CI Challenge/CI_Challenge2_Image2Text_NLP/Final Product/Prod_ocr-react-app/src/pages/passport-ocr/PassportOcr.js"],"names":["React","UploadService","FileInput","LoadingOverlay","PassportOcr","Component","constructor","props","state","uploadService","fileChanged","bind","resetPage","setState","ocr","file","loading","url","URL","createObjectURL","passport","passportAnalysis","render","console","log","join","last_name","first_name","country","country_code","nationality","sex"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './PassportOcr.scss';\nimport UploadService from '../../services/Upload';\nimport FileInput from '../../views/file-input/FileInput';\nimport LoadingOverlay from '../../views/loading-overlay/LoadingOverlay';\n\nclass PassportOcr extends React.Component {\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            uploadService: new UploadService()\n        }\n\n        this.fileChanged = this.fileChanged.bind(this);\n        this.resetPage = this.resetPage.bind(this);\n    }\n\n    resetPage() {\n\n        this.setState({\n            ocr: null\n        })\n    }\n\n    async fileChanged(file) {\n        \n        this.setState({\n            loading: true\n        })\n\n        let ocr = {url: URL.createObjectURL(file), file: file, passport: await this.state.uploadService.passportAnalysis(file)};\n\n        this.setState({\n            ocr: ocr,\n            loading: false\n        })\n    }\n\n    render() { \n\n        console.log(this.state);\n\n        return (\n\n            <div className=\"passport-ocr-page-container\">\n\n                <div className={['passport-file-input-container', this.state.ocr ? 'hide' : ''].join(' ')}>\n                    <FileInput fileChangedCallback={this.fileChanged} accept=\"image/*\">Click or Drag to Upload <br /> a Passport Image</FileInput> \n                    \n                    <div className={['passport-loading-overlay-container', !this.state.loading ? 'hide' : ''].join(' ')}>\n                        <LoadingOverlay />\n                    </div>\n                </div>\n\n                <div className={['file-output-state-container', !this.state.ocr ? 'hide' : ''].join(' ')}>\n\n                    <button onClick={this.resetPage}>Upload New File</button>\n\n                    <div className=\"file-output-state-content-container\">\n\n                        <div className=\"ocr-image-container\">\n\n                            <div className=\"ocr-image-wrapper\">\n                                <img className=\"ocr-image\" src={this.state.ocr ? this.state.ocr.url : ''} />\n                            </div>\n\n                            <div className=\"ocr-passport-container\">\n                                <div className=\"field-container\">\n                                    <div className=\"name\">Last Name</div>\n                                    <div className=\"value\">{this.state.ocr ? this.state.ocr.passport.last_name : ''}</div>\n                                </div>\n\n                                <div className=\"field-container\">\n                                    <div className=\"name\">First Name</div>\n                                    <div className=\"value\">{this.state.ocr ? this.state.ocr.passport.first_name : ''}</div>\n                                </div>\n\n                                <div className=\"field-container\">\n                                    <div className=\"name\">Country</div>\n                                    <div className=\"value\">{this.state.ocr ? this.state.ocr.passport.country : ''}</div>\n                                </div>\n\n                                <div className=\"field-container\">\n                                    <div className=\"name\">Country Code</div>\n                                    <div className=\"value\">{this.state.ocr ? this.state.ocr.passport.country_code : ''}</div>\n                                </div>\n\n                                <div className=\"field-container\">\n                                    <div className=\"name\">Nationality</div>\n                                    <div className=\"value\">{this.state.ocr ? this.state.ocr.passport.nationality : ''}</div>\n                                </div>\n\n                                <div className=\"field-container\">\n                                    <div className=\"name\">Sex</div>\n                                    <div className=\"value\">{this.state.ocr ? this.state.ocr.passport.sex : ''}</div>\n                                </div>\n                            </div>\n                        </div>\n                        \n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default PassportOcr;"]},"metadata":{},"sourceType":"module"}