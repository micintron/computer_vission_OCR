{"ast":null,"code":"var _jsxFileName = \"/Users/micintro/Desktop/CI Challenge/CI_Challenge2_Image2Text_NLP/Final Product/Prod_ocr-react-app/src/pages/image-ocr/ImageOcr.js\";\nimport React from 'react';\nimport './ImageOcr.scss';\nimport UploadService from '../../services/Upload';\nimport FileInput from '../../views/file-input/FileInput';\nimport LoadingOverlay from '../../views/loading-overlay/LoadingOverlay';\n\nclass ImageOcr extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadService: new UploadService(),\n      ocrImage: null\n    };\n    this.fileChanged = this.fileChanged.bind(this);\n    this.resetPage = this.resetPage.bind(this);\n  }\n\n  resetPage() {\n    this.setState({\n      ocr: null\n    });\n  }\n\n  async fileChanged(file) {\n    this.setState({\n      loading: true\n    });\n    let ocr = {\n      url: URL.createObjectURL(file),\n      file: file,\n      text: await this.state.uploadService.ocrAnalysis(file)\n    };\n    this.setState({\n      ocr: ocr,\n      loading: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"image-ocr-page-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: ['image-file-input-container', this.state.ocr ? 'hide' : ''].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FileInput, {\n      fileChangedCallback: this.fileChanged,\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, \"Click or Drag to Upload \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 112\n      }\n    }), \" an Image File\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: ['image-loading-overlay-container', !this.state.loading ? 'hide' : ''].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(LoadingOverlay, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: ['file-output-state-container', !this.state.ocr ? 'hide' : ''].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.resetPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, \"Upload New File\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"file-output-state-content-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ocr-image-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ocr-image-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"ocr-image\",\n      src: this.state.ocr ? this.state.ocr.url : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"ocr-text-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, this.state.ocr ? this.state.ocr.text : '')))));\n  }\n\n}\n\nexport default ImageOcr;","map":{"version":3,"sources":["/Users/micintro/Desktop/CI Challenge/CI_Challenge2_Image2Text_NLP/Final Product/Prod_ocr-react-app/src/pages/image-ocr/ImageOcr.js"],"names":["React","UploadService","FileInput","LoadingOverlay","ImageOcr","Component","constructor","props","state","uploadService","ocrImage","fileChanged","bind","resetPage","setState","ocr","file","loading","url","URL","createObjectURL","text","ocrAnalysis","render","join"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './ImageOcr.scss';\nimport UploadService from '../../services/Upload';\nimport FileInput from '../../views/file-input/FileInput';\nimport LoadingOverlay from '../../views/loading-overlay/LoadingOverlay';\n\nclass ImageOcr extends React.Component {\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            uploadService: new UploadService(),\n            ocrImage: null\n        }\n\n        this.fileChanged = this.fileChanged.bind(this);\n        this.resetPage = this.resetPage.bind(this);\n    }\n\n    resetPage() {\n\n        this.setState({\n            ocr: null\n        })\n    }\n\n    async fileChanged(file) {\n        \n        this.setState({\n            loading: true\n        })\n\n        let ocr = {url: URL.createObjectURL(file), file: file, text: await this.state.uploadService.ocrAnalysis(file)};\n\n        this.setState({\n            ocr: ocr,\n            loading: false\n        })\n    }\n\n    render() { \n\n        return (\n\n            <div className=\"image-ocr-page-container\">\n\n                <div className={['image-file-input-container', this.state.ocr ? 'hide' : ''].join(' ')}>\n                    <FileInput fileChangedCallback={this.fileChanged} accept=\"image/*\">Click or Drag to Upload <br /> an Image File</FileInput> \n\n                    <div className={['image-loading-overlay-container', !this.state.loading ? 'hide' : ''].join(' ')}>\n                        <LoadingOverlay />\n                    </div>\n                </div>\n\n                <div className={['file-output-state-container', !this.state.ocr ? 'hide' : ''].join(' ')}>\n\n                    <button onClick={this.resetPage}>Upload New File</button>\n\n                    <div className=\"file-output-state-content-container\">\n\n                        <div className=\"ocr-image-container\">\n\n                            <div className=\"ocr-image-wrapper\">\n                                <img className=\"ocr-image\" src={this.state.ocr ? this.state.ocr.url : ''} />\n                            </div>\n\n                            <div class=\"ocr-text-container\">{this.state.ocr ? this.state.ocr.text : ''}</div>\n                        </div>\n                        \n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ImageOcr;"]},"metadata":{},"sourceType":"module"}